<meta charset="UTF-8">
<script>
    /*
    PROBLEMA: PESQUISA DE IDADE
    Foi feita uma pesquisa entre os habitantes de uma região. Foram coletados os dados de idade, sexo (M/F) e salário. Faça um programa que calcule e mostre:

    a) A média dos salários do grupo;
    b) A maior e a menor idade do grupo;
    c) A quantidade de mulheres na região;
    d) A idade e o sexo da pessoa que possui o menor salário;

    Finalize a entrada de dados ao ser digitada uma idade negativa.
    */

    //ENTRADA
    let idade = 1;
    let somaSalarios = 0;
    let maiorIdade = 0;
    let menorIdade = Infinity;
    let menorSalario = Infinity;
    let mulheres = 0;
    let quantSalarios = 0;
    let idadeMenorSalario = 0;
    let sexoMenorSalario = '';
    while(idade>=0){
        idade = Number(prompt(`Informe a idade da pessoa:`));

        if (idade < 0) break;

        let sexo = prompt(`Informe o sexo da pessoa:`).toUpperCase();
        while(sexo !== "M"&& sexo !== "F"){
            sexo = prompt(`Informe o sexo da pessoa:`).toUpperCase()
        }
        let salario = Number(prompt(`Informe seu salário:`).replace(",", "."));
        while(isNaN(salario) || salario < 0){
            salario = Number(prompt(`Informe o seu salário:`).replace(",", "."));
        }

        if(idade>-1){
            if(idade>=maiorIdade){
            maiorIdade = idade
        }
        if(idade<=menorIdade){
            menorIdade =idade;
        }
        if(salario<=menorSalario){
            menorSalario = salario;
            idadeMenorSalario = idade;
            sexoMenorSalario = sexo;
        }
        if(sexo === "F"){
            mulheres++
        }

            quantSalarios++
        somaSalarios+=salario

        }
        
    }
    let mensagem;
    if(quantSalarios>0){
        let mediaSalarios = somaSalarios/quantSalarios;
            mensagem = `a) A média dos salários do grupo é R$${mediaSalarios.toFixed(2).replace(".", ",")}.<br>
    b) A maior idade é ${maiorIdade} e a menor idade é ${menorIdade}.<br>
    c) A quantidade de mulheres na região é ${mulheres}.<br>
    d) A idade e o sexo da pessoa que possue o menor salário é, ${idadeMenorSalario} anos e do sexo ${sexoMenorSalario}. `

    } else{
            mensagem = `a) A média dos salários resulta em R$0,00, porque as informações recebidas ou foram inválidas, ou a soma dos salários é R$0.<br>
    b) A maior idade é ${maiorIdade} e a menor idade é ${menorIdade}.<br>
    c) A quantidade de mulheres na região é ${mulheres}.<br>
    d) A idade e o sexo da pessoa que possue o menor salário é, ${idadeMenorSalario} anos e do sexo ${sexoMenorSalario}. `
    }
    


    //PROCESSAMENTO

    document.write(mensagem);


    //SAÍDA

</script>